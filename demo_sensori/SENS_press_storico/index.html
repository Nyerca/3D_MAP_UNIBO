<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>CSS Only 3D Bar Graph</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

  
      <link rel="stylesheet" href="/css/style.css">

  
</head>

<body>

  <h1>Transparent CSS Only Bar Graph</h1>
  <div class="chart-container">
    <div class="base"></div>
        <!-- Left Side Meter-->
    <ul class="meter">
      <li><div>$100,000</div></li>
      <li><div>$80,000</div></li>
      <li><div>$60,000</div></li>
      <li><div>$40,000</div></li>
      <li><div>Less Than $20,000</div></li>
    </ul>
    <!-- Background-Grid -->
    <table>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </table>
    <!-- End Background Grid -->
 
    <div class="bar one"></div>   
    <div class="bar two"></div>   
    <div class="bar three"></div>
    <div class="bar four"></div>   
    <div class="bar five"></div>   
    <div class="bar six"></div>
    <div class="bar seven"></div>   
    <div class="bar eight"></div> 
  </div>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>


  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

  <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script src = "/socket.io/socket.io.js"></script>
	<script>
	/*
var dateObj = new Date();
var month = dateObj.getUTCMonth() + 1; //months from 1-12
var day = dateObj.getUTCDate();
var year = dateObj.getUTCFullYear();
var today = year + "-" + month + "-" + day;
if(("" + month).length == 1) {
today = year + "-0" + month + "-" + day;
}

var yesterday = new Date();
yesterday.setDate(yesterday.getDate() - 1);

var month2 = yesterday.getUTCMonth() + 1; //months from 1-12
var day2 = yesterday.getUTCDate();
var year2 = yesterday.getUTCFullYear();
var yesterday = year2 + "-" + month2 + "-" + day2;
if(("" + month2).length == 1) {
yesterday = year2 + "-0" + month2 + "-" + day2;
}

var day_2 = new Date();
day_2.setDate(day_2.getDate() - 2);

var month3 = day_2.getUTCMonth() + 1; //months from 1-12
var day3 = day_2.getUTCDate();
var year3 = day_2.getUTCFullYear();
var day_2 = year3 + "-" + month3 + "-" + day3;
if(("" + month3).length == 1) {
day_2 = year3 + "-0" + month3 + "-" + day3;
}
console.log(day_2);
*/
var day0, day1, day2, day3, day4, day5, day6;
for(var i= 0; i < 7; i++) {
var day = new Date();
day.setDate(day.getDate() - i);

var month_n = day.getUTCMonth() + 1; //months from 1-12
var day_n = day.getUTCDate();
var year_n = day.getUTCFullYear();
var day = year_n
if(("" + month_n).length == 1) {
day += "-0" + month_n
} else {
day += "-" + month_n
}
if(("" +day_n).length == 1) {
day += "-0" + day_n
} else {
day += "-" + day_n
}

switch(i) {
	case 0: day0 = day; break;
	case 1: day1 = day; break;
	case 2: day2 = day; break;
	case 3: day3 = day; break;
	case 4: day4 = day; break;
	case 5: day5 = day; break;
	case 6: day6 = day; break;
}

}

		$(document).ready(function() {
	var socket = io('/mySensorNamespace');
      socket.on('hi',function(data) {
		 valore = data.split(';');
		for(var field in valore) {
			var line = valore[field].split('***');
			
			var d = new Date("" + line[1]);
var str = $.datepicker.formatDate('yy-mm-dd', d);
			if(str === day0) {
			var input = document.querySelector('.one');
			input.style.setProperty('height', '99%')
			} else if(str == day1) {
			var input = document.querySelector('.two');
			input.style.setProperty('height', '99%')
			} else if(str == day2) {
			var input = document.querySelector('.two');
			input.style.setProperty('height', '99%')
			} else if(str == day3) {
			var input = document.querySelector('.two');
			input.style.setProperty('height', '99%')
			} else if(str == day4) {
			var input = document.querySelector('.two');
			input.style.setProperty('height', '99%')
			} else if(str == day5) {
			var input = document.querySelector('.two');
			input.style.setProperty('height', '99%')
			}
			console.log(str);

		}		
      });
	  });


	</script>


</body>

</html>
